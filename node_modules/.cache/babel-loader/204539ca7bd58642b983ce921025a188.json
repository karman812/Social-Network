{"ast":null,"code":"import React from\"react\";import{Col,Row}from\"react-bootstrap\";import*as axios from\"axios\";import styles from'./Login.module.css';import{NavLink}from\"react-router-dom\";import{Redirect}from\"react-router-dom\";import{Field,reduxForm}from\"redux-form\";import{Input,Textarea}from\"../common/FormControls/FormControls\";import{LoginFormRedux}from\"./LoginForm\";var Login=function Login(props){var state=props.authPage;var onUpdateLogin=function onUpdateLogin(event){var body=event.target.value;props.updateLogin(body);};var onUpdatePassword=function onUpdatePassword(event){var body=event.target.value;props.updatePassword(body);};var tryToLogIn=function tryToLogIn(event){var info=null;axios.post(\"http://localhost:5000/api/auth/login\",{email:state.email,password:state.password}).then(function(response){if(response.status==200){info='ok';props.updateToggle(true);}});props.updateDescription(info);};var submitLogin=function submitLogin(value){console.log(value.usePassword,value.userLogin);var info=null;axios.post(\"http://localhost:5000/api/auth/login\",{email:value.usePassword,password:value.userLogin}).then(function(response){if(response.status==200){info='ok';props.updateToggle(true);}});props.updateDescription(info);};return/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:\"12\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:\"12\"},/*#__PURE__*/React.createElement(\"h1\",null,\"\\u0412\\u0445\\u043E\\u0434 \\u0432 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\")),!state.information&&/*#__PURE__*/React.createElement(Col,{xs:\"12\"},/*#__PURE__*/React.createElement(\"span\",{className:styles.warningText},\"\\u0414\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043D\\u0435\\u043A\\u043E\\u0440\\u0440\\u0435\\u043A\\u0442\\u043D\\u044B. \\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0441\\u043D\\u043E\\u0432\\u0430\")),state.toggle==false&&/*#__PURE__*/React.createElement(Col,{xs:\"12\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(LoginFormRedux,{onSubmit:submitLogin}),/*#__PURE__*/React.createElement(Col,{xs:\"3\",className:styles.signInButtonCol},/*#__PURE__*/React.createElement(NavLink,{to:\"/signin\"},/*#__PURE__*/React.createElement(\"span\",null,\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"))))),state.toggle==true&&/*#__PURE__*/React.createElement(Redirect,{to:\"/profile\"}))));};export default Login;","map":{"version":3,"sources":["C:/Users/Karim/Desktop/прога/react/1project/my-app/src/components/Login/Login.jsx"],"names":["React","Col","Row","axios","styles","NavLink","Redirect","Field","reduxForm","Input","Textarea","LoginFormRedux","Login","props","state","authPage","onUpdateLogin","event","body","target","value","updateLogin","onUpdatePassword","updatePassword","tryToLogIn","info","post","email","password","then","response","status","updateToggle","updateDescription","submitLogin","console","log","usePassword","userLogin","information","warningText","toggle","signInButtonCol"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {Col, Row} from \"react-bootstrap\";\r\nimport * as axios from \"axios\";\r\nimport styles from './Login.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input, Textarea} from \"../common/FormControls/FormControls\";\r\nimport {LoginFormRedux} from \"./LoginForm\";\r\n\r\nconst Login = (props) => {\r\n    let state = props.authPage\r\n    let onUpdateLogin = (event) => {\r\n        let body = event.target.value\r\n        props.updateLogin(body)\r\n    }\r\n    let onUpdatePassword = (event) => {\r\n        let body = event.target.value\r\n        props.updatePassword(body)\r\n    }\r\n    let tryToLogIn = (event) => {\r\n        let info = null\r\n        axios.post(\"http://localhost:5000/api/auth/login\", {\r\n            email: state.email,\r\n            password: state.password\r\n        }).then(response => {\r\n            if (response.status == 200) {\r\n                info = 'ok'\r\n                props.updateToggle(true)\r\n            }\r\n        })\r\n        props.updateDescription(info)\r\n    }\r\n    let submitLogin = (value) =>{\r\n        console.log(value.usePassword, value.userLogin)\r\n        let info = null\r\n        axios.post(\"http://localhost:5000/api/auth/login\", {\r\n            email: value.usePassword,\r\n            password: value.userLogin\r\n        }).then(response => {\r\n            if (response.status == 200) {\r\n                info = 'ok'\r\n                props.updateToggle(true)\r\n            }\r\n        })\r\n        props.updateDescription(info)\r\n    }\r\n    return (\r\n        <Row>\r\n            <Col xs='12'>\r\n                <Row>\r\n                    <Col xs='12'><h1>Вход в аккаунт</h1></Col>\r\n                    {\r\n                        !state.information && <Col xs='12'>\r\n                            <span className={styles.warningText}>Данные некорректны. Попробуйте снова</span>\r\n                        </Col>\r\n                    }\r\n                    {\r\n                        state.toggle == false && <Col xs='12'>\r\n                            <Row>\r\n                                {/*<Col xs='12'><textarea className={styles.textarea} name=\"\" id=\"\"*/}\r\n                                {/*                       placeholder='Введите свою почту'*/}\r\n                                {/*                       onChange={onUpdateLogin}></textarea></Col>*/}\r\n                                {/*<Col xs='12'><textarea className={styles.textarea} name=\"\" id=\"\"*/}\r\n                                {/*                       placeholder='Введите пароль'*/}\r\n                                {/*                       onChange={onUpdatePassword}></textarea></Col>*/}\r\n                                {/*<Col xs='3'>*/}\r\n                                {/*    <button onClick={tryToLogIn}>Войти</button>*/}\r\n                                {/*</Col>*/}\r\n                                <LoginFormRedux onSubmit={submitLogin}/>\r\n                                <Col xs='3' className={styles.signInButtonCol}><NavLink to='/signin'><span>Зарегистрироваться</span></NavLink></Col>\r\n                            </Row>\r\n                        </Col>\r\n                    }\r\n                    {\r\n                        state.toggle == true && <Redirect to='/profile'/>\r\n                    }\r\n                </Row>\r\n            </Col>\r\n        </Row>\r\n    )\r\n}\r\n\r\n\r\nexport default Login"]},"metadata":{},"sourceType":"module"}